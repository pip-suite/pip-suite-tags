{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/data/TagDataService.ts","src/data/index.ts","src/index.ts","src/rest/TagResources.ts","src/tag_list/TagList.ts","temp/pip-suite-tags-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","tags","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","TagData","$inject","prototype","getUserId","pipSession","session","userId","readTags","params","successCallback","errorCallback","party_id","pipRest","getResource","RESOURCE","get","createTags","data","save","updateTags","update","TagDataProvider","$get","_service","Object","defineProperty","value","./data","./rest/TagResources","./tag_list/TagList","5","configTagResources","pipRestProvider","registerResource","method","config","6","TagList","bindings","type","typeLocal","rebuid","templateUrl","controller","toBoolean","_","isNull","isUndefined","toString","toLowerCase","$onChanges","changes","rebind","currentValue","TagListController","$scope","$element","css","addClass","7","angular","run","$templateCache","put"],"mappings":"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","file":"pip-suite-tags.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { ITagDataService, ITagDataProvider } from './ITagDataService';\nimport { PartyTags } from './PartyTags';\nimport { Tag } from './Tag';\n\nclass TagData implements ITagDataService {\n    private RESOURCE: string = 'tags';\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n    }\n\n    public getUserId(): string {\n        let userId: string;\n        userId = this.pipSession.session ? this.pipSession.session.userId : null;\n\n        return userId;\n    }\n\n    public readTags(params: any, successCallback?: (data: PartyTags) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        return this.pipRest.getResource(this.RESOURCE).get(params, successCallback, errorCallback);\n    }\n\n    public createTags(params: any, data: any, successCallback?: (item: any) => void, errorCallback?: (error: any) => void): void {\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        this.pipRest.getResource(this.RESOURCE).save(params, data, successCallback, errorCallback);\n    }\n\n    public updateTags(params: any, data: any, successCallback?: (item: any) => void, errorCallback?: (error: any) => void): void {\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        this.pipRest.getResource(this.RESOURCE).update(params, data, successCallback, errorCallback);\n    }\n\n}\n\nclass TagDataProvider implements ITagDataProvider {\n    private _service: ITagDataService;\n\n    constructor() { }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new TagData(pipRest, pipSession);\n        }\n\n        return this._service;\n    }\n\n}\n\nangular\n    .module('pipTagData', ['pipCommonRest'])\n    .provider('pipTagData', TagDataProvider);\n\n","import './TagDataService';\nimport './ITagDataService';\n\n\nexport * from './ITagDataService';\n\n","import './tag_list/TagList'\nimport './rest/TagResources';\nimport './data';\n\n\nangular.module('pipTags', [\n        'pipTag.Rest',\n        'pipTagData',\n        'pipTagList'\n]);\n\n\nexport * from './data';\n\n\n","function configTagResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerResource('tags', '/api/1.0/tags/:party_id',\n        { party_id: '@party_id' },\n        {\n            update: { method: 'PUT' }\n        }\n    );\n}\n\nangular\n    .module('pipTag.Rest', [])\n    .config(configTagResources);\n\n","{\n    interface ITagList {\n        tags: string[];\n        type: string;\n        typeLocal: string;\n    }\n\n    class TagListController implements ITagList {\n        public rebind: string;\n\n        public tags: string[];\n        public type: string;\n        public typeLocal: string;\n\n        constructor(\n            $scope: ng.IScope,\n            $element: ng.IRootElementService\n        ) {\n\n            // Set tags\n            $element.css('display', 'block');\n            $element.addClass('pip-tag-list');\n        }\n\n        private toBoolean(value: string): boolean {\n            if (_.isNull(value) || _.isUndefined(value)) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        public $onChanges(changes: TagListChanges) {\n            if (this.rebind && changes.tags) {\n                this.tags = changes.tags.currentValue;\n            }\n\n        }\n\n    }\n\n    interface ITagListBindings {\n        [key: string]: any;\n\n        tags: any,\n        type: any,\n        typeLocal: any,\n        rebuid: any\n    }\n\n    const TagListBindings: ITagListBindings = {\n        tags: '<pipTags',\n        type: '<pipType',\n        typeLocal: '<pipTypeLocal',\n        rebuid: '<pipRebind'\n    }\n\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        tags: ng.IChangesObject<string[]>;\n        type: ng.IChangesObject<string>;\n        typeLocal: ng.IChangesObject<string>;\n        rebuid: ng.IChangesObject<boolean>\n    }\n\n    const TagList = {\n        bindings: TagListBindings,\n        templateUrl: 'tag_list/TagList.html',\n        controller: TagListController\n    }\n\n    angular\n        .module('pipTagList', ['pipTranslate'])\n        .component('pipTagList', TagList)\n\n}","(function(module) {\ntry {\n  module = angular.module('pipTags.Templates');\n} catch (e) {\n  module = angular.module('pipTags.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-tags-html.min.js.map\n"]}